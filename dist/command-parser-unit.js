"use strict";

var _emailjsImapHandler = require("emailjs-imap-handler");

var _commandParser = require("./command-parser");

var _common = require("./common");

var _envelope = _interopRequireDefault(require("../res/fixtures/envelope"));

var _mimeTortureBodystructure = _interopRequireDefault(require("../res/fixtures/mime-torture-bodystructure"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable no-unused-expressions */

/* eslint-disable no-useless-escape */
describe('parseNAMESPACE', () => {
  it('should not succeed for no namespace response', () => {
    expect((0, _commandParser.parseNAMESPACE)({
      payload: {
        NAMESPACE: []
      }
    })).to.be.false;
  });
  it('should return single personal namespace', () => {
    expect((0, _commandParser.parseNAMESPACE)({
      payload: {
        NAMESPACE: [{
          attributes: [[[{
            type: 'STRING',
            value: 'INBOX.'
          }, {
            type: 'STRING',
            value: '.'
          }]], null, null]
        }]
      }
    })).to.deep.equal({
      personal: [{
        prefix: 'INBOX.',
        delimiter: '.'
      }],
      users: false,
      shared: false
    });
  });
  it('should return single personal, single users, multiple shared', () => {
    expect((0, _commandParser.parseNAMESPACE)({
      payload: {
        NAMESPACE: [{
          attributes: [// personal
          [[{
            type: 'STRING',
            value: ''
          }, {
            type: 'STRING',
            value: '/'
          }]], // users
          [[{
            type: 'STRING',
            value: '~'
          }, {
            type: 'STRING',
            value: '/'
          }]], // shared
          [[{
            type: 'STRING',
            value: '#shared/'
          }, {
            type: 'STRING',
            value: '/'
          }], [{
            type: 'STRING',
            value: '#public/'
          }, {
            type: 'STRING',
            value: '/'
          }]]]
        }]
      }
    })).to.deep.equal({
      personal: [{
        prefix: '',
        delimiter: '/'
      }],
      users: [{
        prefix: '~',
        delimiter: '/'
      }],
      shared: [{
        prefix: '#shared/',
        delimiter: '/'
      }, {
        prefix: '#public/',
        delimiter: '/'
      }]
    });
  });
  it('should handle NIL namespace hierarchy delim', () => {
    expect((0, _commandParser.parseNAMESPACE)({
      payload: {
        NAMESPACE: [// This specific value is returned by yahoo.co.jp's
        // imapgate version 0.7.68_11_1.61475 IMAP server
        (0, _emailjsImapHandler.parser)((0, _common.toTypedArray)('* NAMESPACE (("" NIL)) NIL NIL'))]
      }
    })).to.deep.equal({
      personal: [{
        prefix: '',
        delimiter: null
      }],
      users: false,
      shared: false
    });
  });
});
describe('parseSELECT', () => {
  it('should parse a complete response', () => {
    expect((0, _commandParser.parseSELECT)({
      code: 'READ-WRITE',
      payload: {
        EXISTS: [{
          nr: 123
        }],
        FLAGS: [{
          attributes: [[{
            type: 'ATOM',
            value: '\\Answered'
          }, {
            type: 'ATOM',
            value: '\\Flagged'
          }]]
        }],
        OK: [{
          code: 'PERMANENTFLAGS',
          permanentflags: ['\\Answered', '\\Flagged']
        }, {
          code: 'UIDVALIDITY',
          uidvalidity: '2'
        }, {
          code: 'UIDNEXT',
          uidnext: '38361'
        }, {
          code: 'HIGHESTMODSEQ',
          highestmodseq: '3682918'
        }]
      }
    })).to.deep.equal({
      exists: 123,
      flags: ['\\Answered', '\\Flagged'],
      highestModseq: '3682918',
      permanentFlags: ['\\Answered', '\\Flagged'],
      readOnly: false,
      uidNext: 38361,
      uidValidity: 2
    });
  });
  it('should parse response with no modseq', () => {
    expect((0, _commandParser.parseSELECT)({
      code: 'READ-WRITE',
      payload: {
        EXISTS: [{
          nr: 123
        }],
        FLAGS: [{
          attributes: [[{
            type: 'ATOM',
            value: '\\Answered'
          }, {
            type: 'ATOM',
            value: '\\Flagged'
          }]]
        }],
        OK: [{
          code: 'PERMANENTFLAGS',
          permanentflags: ['\\Answered', '\\Flagged']
        }, {
          code: 'UIDVALIDITY',
          uidvalidity: '2'
        }, {
          code: 'UIDNEXT',
          uidnext: '38361'
        }]
      }
    })).to.deep.equal({
      exists: 123,
      flags: ['\\Answered', '\\Flagged'],
      permanentFlags: ['\\Answered', '\\Flagged'],
      readOnly: false,
      uidNext: 38361,
      uidValidity: 2
    });
  });
  it('should parse response with read-only', () => {
    expect((0, _commandParser.parseSELECT)({
      code: 'READ-ONLY',
      payload: {
        EXISTS: [{
          nr: 123
        }],
        FLAGS: [{
          attributes: [[{
            type: 'ATOM',
            value: '\\Answered'
          }, {
            type: 'ATOM',
            value: '\\Flagged'
          }]]
        }],
        OK: [{
          code: 'PERMANENTFLAGS',
          permanentflags: ['\\Answered', '\\Flagged']
        }, {
          code: 'UIDVALIDITY',
          uidvalidity: '2'
        }, {
          code: 'UIDNEXT',
          uidnext: '38361'
        }]
      }
    })).to.deep.equal({
      exists: 123,
      flags: ['\\Answered', '\\Flagged'],
      permanentFlags: ['\\Answered', '\\Flagged'],
      readOnly: true,
      uidNext: 38361,
      uidValidity: 2
    });
  });
  it('should parse response with NOMODSEQ flag', () => {
    expect((0, _commandParser.parseSELECT)({
      code: 'READ-WRITE',
      payload: {
        EXISTS: [{
          nr: 123
        }],
        FLAGS: [{
          attributes: [[{
            type: 'ATOM',
            value: '\\Answered'
          }, {
            type: 'ATOM',
            value: '\\Flagged'
          }]]
        }],
        OK: [{
          code: 'PERMANENTFLAGS',
          permanentflags: ['\\Answered', '\\Flagged']
        }, {
          code: 'UIDVALIDITY',
          uidvalidity: '2'
        }, {
          code: 'UIDNEXT',
          uidnext: '38361'
        }, {
          code: 'NOMODSEQ'
        }]
      }
    })).to.deep.equal({
      exists: 123,
      flags: ['\\Answered', '\\Flagged'],
      permanentFlags: ['\\Answered', '\\Flagged'],
      readOnly: false,
      uidNext: 38361,
      uidValidity: 2,
      noModseq: true
    });
  });
});
describe('parseENVELOPE', () => {
  it('should parsed envelope object', () => {
    expect((0, _commandParser.parseENVELOPE)(_envelope.default.source)).to.deep.equal(_envelope.default.parsed);
  });
});
describe('parseBODYSTRUCTURE', () => {
  it('should parse bodystructure object', () => {
    expect((0, _commandParser.parseBODYSTRUCTURE)(_mimeTortureBodystructure.default.source)).to.deep.equal(_mimeTortureBodystructure.default.parsed);
  });
  it('should parse bodystructure with unicode filename', () => {
    var input = [[{
      type: 'STRING',
      value: 'APPLICATION'
    }, {
      type: 'STRING',
      value: 'OCTET-STREAM'
    }, null, null, null, {
      type: 'STRING',
      value: 'BASE64'
    }, {
      type: 'ATOM',
      value: '40'
    }, null, [{
      type: 'STRING',
      value: 'ATTACHMENT'
    }, [{
      type: 'STRING',
      value: 'FILENAME'
    }, {
      type: 'STRING',
      value: '=?ISO-8859-1?Q?BBR_Handel,_Gewerbe,_B=FCrobetriebe,?= =?ISO-8859-1?Q?_private_Bildungseinrichtungen.txt?='
    }]], null], {
      type: 'STRING',
      value: 'MIXED'
    }, [{
      type: 'STRING',
      value: 'BOUNDARY'
    }, {
      type: 'STRING',
      value: '----sinikael-?=_1-14105085265110.49903922458179295'
    }], null, null];
    var expected = {
      childNodes: [{
        part: '1',
        type: 'application/octet-stream',
        encoding: 'base64',
        size: 40,
        disposition: 'attachment',
        dispositionParameters: {
          filename: 'BBR Handel, Gewerbe, BÃ¼robetriebe, private Bildungseinrichtungen.txt'
        }
      }],
      type: 'multipart/mixed',
      parameters: {
        boundary: '----sinikael-?=_1-14105085265110.49903922458179295'
      }
    };
    expect((0, _commandParser.parseBODYSTRUCTURE)(input)).to.deep.equal(expected);
  });
});
describe('parseFETCH', () => {
  it('should return values lowercase keys', () => {
    expect((0, _commandParser.parseFETCH)({
      payload: {
        FETCH: [{
          nr: 123,
          attributes: [[{
            type: 'ATOM',
            value: 'BODY',
            section: [{
              type: 'ATOM',
              value: 'HEADER'
            }, [{
              type: 'ATOM',
              value: 'DATE'
            }, {
              type: 'ATOM',
              value: 'SUBJECT'
            }]],
            partial: [0, 123]
          }, {
            type: 'ATOM',
            value: 'abc'
          }]]
        }]
      }
    })).to.deep.equal([{
      '#': 123,
      'body[header (date subject)]<0.123>': 'abc'
    }]);
  });
  it('should merge multiple responses based on sequence number', () => {
    expect((0, _commandParser.parseFETCH)({
      payload: {
        FETCH: [{
          nr: 123,
          attributes: [[{
            type: 'ATOM',
            value: 'UID'
          }, {
            type: 'ATOM',
            value: 789
          }]]
        }, {
          nr: 124,
          attributes: [[{
            type: 'ATOM',
            value: 'UID'
          }, {
            type: 'ATOM',
            value: 790
          }]]
        }, {
          nr: 123,
          attributes: [[{
            type: 'ATOM',
            value: 'MODSEQ'
          }, {
            type: 'ATOM',
            value: '127'
          }]]
        }]
      }
    })).to.deep.equal([{
      '#': 123,
      'uid': 789,
      'modseq': '127'
    }, {
      '#': 124,
      'uid': 790
    }]);
  });
});
describe('parseSEARCH', () => {
  it('should parse SEARCH response', () => {
    expect((0, _commandParser.parseSEARCH)({
      payload: {
        SEARCH: [{
          attributes: [{
            value: 5
          }, {
            value: 7
          }]
        }, {
          attributes: [{
            value: 6
          }]
        }]
      }
    })).to.deep.equal([5, 6, 7]);
  });
  it('should parse empty SEARCH response', () => {
    expect((0, _commandParser.parseSEARCH)({
      payload: {
        SEARCH: [{
          command: 'SEARCH',
          tag: '*'
        }]
      }
    })).to.deep.equal([]);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tYW5kLXBhcnNlci11bml0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJwYXlsb2FkIiwiTkFNRVNQQUNFIiwidG8iLCJiZSIsImZhbHNlIiwiYXR0cmlidXRlcyIsInR5cGUiLCJ2YWx1ZSIsImRlZXAiLCJlcXVhbCIsInBlcnNvbmFsIiwicHJlZml4IiwiZGVsaW1pdGVyIiwidXNlcnMiLCJzaGFyZWQiLCJjb2RlIiwiRVhJU1RTIiwibnIiLCJGTEFHUyIsIk9LIiwicGVybWFuZW50ZmxhZ3MiLCJ1aWR2YWxpZGl0eSIsInVpZG5leHQiLCJoaWdoZXN0bW9kc2VxIiwiZXhpc3RzIiwiZmxhZ3MiLCJoaWdoZXN0TW9kc2VxIiwicGVybWFuZW50RmxhZ3MiLCJyZWFkT25seSIsInVpZE5leHQiLCJ1aWRWYWxpZGl0eSIsIm5vTW9kc2VxIiwidGVzdEVudmVsb3BlIiwic291cmNlIiwicGFyc2VkIiwibWltZVRvcnR1cmUiLCJpbnB1dCIsImV4cGVjdGVkIiwiY2hpbGROb2RlcyIsInBhcnQiLCJlbmNvZGluZyIsInNpemUiLCJkaXNwb3NpdGlvbiIsImRpc3Bvc2l0aW9uUGFyYW1ldGVycyIsImZpbGVuYW1lIiwicGFyYW1ldGVycyIsImJvdW5kYXJ5IiwiRkVUQ0giLCJzZWN0aW9uIiwicGFydGlhbCIsIlNFQVJDSCIsImNvbW1hbmQiLCJ0YWciXSwibWFwcGluZ3MiOiI7O0FBR0E7O0FBQ0E7O0FBUUE7O0FBQ0E7O0FBQ0E7Ozs7QUFkQTs7QUFDQTtBQWVBQSxRQUFRLENBQUMsZ0JBQUQsRUFBbUIsTUFBTTtBQUMvQkMsRUFBQUEsRUFBRSxDQUFDLDhDQUFELEVBQWlELE1BQU07QUFDdkRDLElBQUFBLE1BQU0sQ0FBQyxtQ0FBZTtBQUNwQkMsTUFBQUEsT0FBTyxFQUFFO0FBQ1BDLFFBQUFBLFNBQVMsRUFBRTtBQURKO0FBRFcsS0FBZixDQUFELENBQU4sQ0FJSUMsRUFKSixDQUlPQyxFQUpQLENBSVVDLEtB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WixDQUFELENBQU4sQ0FjSUwsRUFkSixDQWNPTSxJQWRQLENBY1lDLEtBZFosQ0Fja0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FkbEI7QUFlRCxHQWhCQyxDQUFGO0FBa0JBWCxFQUFBQSxFQUFFLENBQUMsb0NBQUQsRUFBdUMsTUFBTTtBQUM3Q0MsSUFBQUEsTUFBTSxDQUFDLGdDQUFZO0FBQ2pCQyxNQUFBQSxPQUFPLEVBQUU7QUFDUGtELFFBQUFBLE1BQU0sRUFBRSxDQUFDO0FBQ1BDLFVBQUFBLE9BQU8sRUFBRSxRQURGO0FBRVBDLFVBQUFBLEdBQUcsRUFBRTtBQUZFLFNBQUQ7QUFERDtBQURRLEtBQVosQ0FBRCxDQUFOLENBT0lsRCxFQVBKLENBT09NLElBUFAsQ0FPWUMsS0FQWixDQU9rQixFQVBsQjtBQVFELEdBVEMsQ0FBRjtBQVVELENBN0JPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZWxlc3MtZXNjYXBlICovXG5cbmltcG9ydCB7IHBhcnNlciB9IGZyb20gJ2VtYWlsanMtaW1hcC1oYW5kbGVyJ1xuaW1wb3J0IHtcbiAgcGFyc2VTRUFSQ0gsXG4gIHBhcnNlTkFNRVNQQUNFLFxuICBwYXJzZUVOVkVMT1BFLFxuICBwYXJzZVNFTEVDVCxcbiAgcGFyc2VCT0RZU1RSVUNUVVJFLFxuICBwYXJzZUZFVENIXG59IGZyb20gJy4vY29tbWFuZC1wYXJzZXInXG5pbXBvcnQgeyB0b1R5cGVkQXJyYXkgfSBmcm9tICcuL2NvbW1vbidcbmltcG9ydCB0ZXN0RW52ZWxvcGUgZnJvbSAnLi4vcmVzL2ZpeHR1cmVzL2VudmVsb3BlJ1xuaW1wb3J0IG1pbWVUb3J0dXJlIGZyb20gJy4uL3Jlcy9maXh0dXJlcy9taW1lLXRvcnR1cmUtYm9keXN0cnVjdHVyZSdcblxuZGVzY3JpYmUoJ3BhcnNlTkFNRVNQQUNFJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIG5vdCBzdWNjZWVkIGZvciBubyBuYW1lc3BhY2UgcmVzcG9uc2UnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHBhcnNlTkFNRVNQQUNFKHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgTkFNRVNQQUNFOiBbXVxuICAgICAgfVxuICAgIH0pKS50by5iZS5mYWxzZVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmV0dXJuIHNpbmdsZSBwZXJzb25hbCBuYW1lc3BhY2UnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHBhcnNlTkFNRVNQQUNFKHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgTkFNRVNQQUNFOiBbe1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1RSSU5HJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ0lOQk9YLidcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdTVFJJTkcnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnLidcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIF0sIG51bGwsIG51bGxcbiAgICAgICAgICBdXG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSkpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgcGVyc29uYWw6IFt7XG4gICAgICAgIHByZWZpeDogJ0lOQk9YLicsXG4gICAgICAgIGRlbGltaXRlcjogJy4nXG4gICAgICB9XSxcbiAgICAgIHVzZXJzOiBmYWxzZSxcbiAgICAgIHNoYXJlZDogZmFsc2VcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmV0dXJuIHNpbmdsZSBwZXJzb25hbCwgc2luZ2xlIHVzZXJzLCBtdWx0aXBsZSBzaGFyZWQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHBhcnNlTkFNRVNQQUNFKHtcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgTkFNRVNQQUNFOiBbe1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgIC8vIHBlcnNvbmFsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1NUUklORycsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1RSSU5HJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJy8nXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gdXNlcnNcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1RSSU5HJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ34nXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1RSSU5HJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJy8nXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gc2hhcmVkXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1NUUklORycsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcjc2hhcmVkLydcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdTVFJJTkcnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnLydcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1NUUklORycsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICcjcHVibGljLydcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdTVFJJTkcnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnLydcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICBdXG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSkpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgcGVyc29uYWw6IFt7XG4gICAgICAgIHByZWZpeDogJycsXG4gICAgICAgIGRlbGltaXRlcjogJy8nXG4gICAgICB9XSxcbiAgICAgIHVzZXJzOiBbe1xuICAgICAgICBwcmVmaXg6ICd+JyxcbiAgICAgICAgZGVsaW1pdGVyOiAnLydcbiAgICAgIH1dLFxuICAgICAgc2hhcmVkOiBbe1xuICAgICAgICBwcmVmaXg6ICcjc2hhcmVkLycsXG4gICAgICAgIGRlbGltaXRlcjogJy8nXG4gICAgICB9LCB7XG4gICAgICAgIHByZWZpeDogJyNwdWJsaWMvJyxcbiAgICAgICAgZGVsaW1pdGVyOiAnLydcbiAgICAgIH1dXG4gICAgfSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBOSUwgbmFtZXNwYWNlIGhpZXJhcmNoeSBkZWxpbScsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VOQU1FU1BBQ0Uoe1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBOQU1FU1BBQ0U6IFtcbiAgICAgICAgICAvLyBUaGlzIHNwZWNpZmljIHZhbHVlIGlzIHJldHVybmVkIGJ5IHlhaG9vLmNvLmpwJ3NcbiAgICAgICAgICAvLyBpbWFwZ2F0ZSB2ZXJzaW9uIDAuNy42OF8xMV8xLjYxNDc1IElNQVAgc2VydmVyXG4gICAgICAgICAgcGFyc2VyKHRvVHlwZWRBcnJheSgnKiBOQU1FU1BBQ0UgKChcIlwiIE5JTCkpIE5JTCBOSUwnKSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pKS50by5kZWVwLmVxdWFsKHtcbiAgICAgIHBlcnNvbmFsOiBbe1xuICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGxcbiAgICAgIH1dLFxuICAgICAgdXNlcnM6IGZhbHNlLFxuICAgICAgc2hhcmVkOiBmYWxzZVxuICAgIH0pXG4gIH0pXG59KVxuXG5kZXNjcmliZSgncGFyc2VTRUxFQ1QnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcGFyc2UgYSBjb21wbGV0ZSByZXNwb25zZScsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VTRUxFQ1Qoe1xuICAgICAgY29kZTogJ1JFQUQtV1JJVEUnLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBFWElTVFM6IFt7XG4gICAgICAgICAgbnI6IDEyM1xuICAgICAgICB9XSxcbiAgICAgICAgRkxBR1M6IFt7XG4gICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ1xcXFxBbnN3ZXJlZCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ1xcXFxGbGFnZ2VkJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICBdXG4gICAgICAgIH1dLFxuICAgICAgICBPSzogW3tcbiAgICAgICAgICBjb2RlOiAnUEVSTUFORU5URkxBR1MnLFxuICAgICAgICAgIHBlcm1hbmVudGZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjb2RlOiAnVUlEVkFMSURJVFknLFxuICAgICAgICAgIHVpZHZhbGlkaXR5OiAnMidcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvZGU6ICdVSURORVhUJyxcbiAgICAgICAgICB1aWRuZXh0OiAnMzgzNjEnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjb2RlOiAnSElHSEVTVE1PRFNFUScsXG4gICAgICAgICAgaGlnaGVzdG1vZHNlcTogJzM2ODI5MTgnXG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSkpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgZXhpc3RzOiAxMjMsXG4gICAgICBmbGFnczogWydcXFxcQW5zd2VyZWQnLCAnXFxcXEZsYWdnZWQnXSxcbiAgICAgIGhpZ2hlc3RNb2RzZXE6ICczNjgyOTE4JyxcbiAgICAgIHBlcm1hbmVudEZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddLFxuICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgdWlkTmV4dDogMzgzNjEsXG4gICAgICB1aWRWYWxpZGl0eTogMlxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBwYXJzZSByZXNwb25zZSB3aXRoIG5vIG1vZHNlcScsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VTRUxFQ1Qoe1xuICAgICAgY29kZTogJ1JFQUQtV1JJVEUnLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBFWElTVFM6IFt7XG4gICAgICAgICAgbnI6IDEyM1xuICAgICAgICB9XSxcbiAgICAgICAgRkxBR1M6IFt7XG4gICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ1xcXFxBbnN3ZXJlZCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ1xcXFxGbGFnZ2VkJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICBdXG4gICAgICAgIH1dLFxuICAgICAgICBPSzogW3tcbiAgICAgICAgICBjb2RlOiAnUEVSTUFORU5URkxBR1MnLFxuICAgICAgICAgIHBlcm1hbmVudGZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjb2RlOiAnVUlEVkFMSURJVFknLFxuICAgICAgICAgIHVpZHZhbGlkaXR5OiAnMidcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvZGU6ICdVSURORVhUJyxcbiAgICAgICAgICB1aWRuZXh0OiAnMzgzNjEnXG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSkpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgZXhpc3RzOiAxMjMsXG4gICAgICBmbGFnczogWydcXFxcQW5zd2VyZWQnLCAnXFxcXEZsYWdnZWQnXSxcbiAgICAgIHBlcm1hbmVudEZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddLFxuICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgdWlkTmV4dDogMzgzNjEsXG4gICAgICB1aWRWYWxpZGl0eTogMlxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBwYXJzZSByZXNwb25zZSB3aXRoIHJlYWQtb25seScsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VTRUxFQ1Qoe1xuICAgICAgY29kZTogJ1JFQUQtT05MWScsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIEVYSVNUUzogW3tcbiAgICAgICAgICBucjogMTIzXG4gICAgICAgIH1dLFxuICAgICAgICBGTEFHUzogW3tcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICBbe1xuICAgICAgICAgICAgICB0eXBlOiAnQVRPTScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnXFxcXEFuc3dlcmVkJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0eXBlOiAnQVRPTScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnXFxcXEZsYWdnZWQnXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIF1cbiAgICAgICAgfV0sXG4gICAgICAgIE9LOiBbe1xuICAgICAgICAgIGNvZGU6ICdQRVJNQU5FTlRGTEFHUycsXG4gICAgICAgICAgcGVybWFuZW50ZmxhZ3M6IFsnXFxcXEFuc3dlcmVkJywgJ1xcXFxGbGFnZ2VkJ11cbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvZGU6ICdVSURWQUxJRElUWScsXG4gICAgICAgICAgdWlkdmFsaWRpdHk6ICcyJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ1VJRE5FWFQnLFxuICAgICAgICAgIHVpZG5leHQ6ICczODM2MSdcbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9KSkudG8uZGVlcC5lcXVhbCh7XG4gICAgICBleGlzdHM6IDEyMyxcbiAgICAgIGZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddLFxuICAgICAgcGVybWFuZW50RmxhZ3M6IFsnXFxcXEFuc3dlcmVkJywgJ1xcXFxGbGFnZ2VkJ10sXG4gICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgIHVpZE5leHQ6IDM4MzYxLFxuICAgICAgdWlkVmFsaWRpdHk6IDJcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcGFyc2UgcmVzcG9uc2Ugd2l0aCBOT01PRFNFUSBmbGFnJywgKCkgPT4ge1xuICAgIGV4cGVjdChwYXJzZVNFTEVDVCh7XG4gICAgICBjb2RlOiAnUkVBRC1XUklURScsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIEVYSVNUUzogW3tcbiAgICAgICAgICBucjogMTIzXG4gICAgICAgIH1dLFxuICAgICAgICBGTEFHUzogW3tcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICBbe1xuICAgICAgICAgICAgICB0eXBlOiAnQVRPTScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnXFxcXEFuc3dlcmVkJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0eXBlOiAnQVRPTScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnXFxcXEZsYWdnZWQnXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIF1cbiAgICAgICAgfV0sXG4gICAgICAgIE9LOiBbe1xuICAgICAgICAgIGNvZGU6ICdQRVJNQU5FTlRGTEFHUycsXG4gICAgICAgICAgcGVybWFuZW50ZmxhZ3M6IFsnXFxcXEFuc3dlcmVkJywgJ1xcXFxGbGFnZ2VkJ11cbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvZGU6ICdVSURWQUxJRElUWScsXG4gICAgICAgICAgdWlkdmFsaWRpdHk6ICcyJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ1VJRE5FWFQnLFxuICAgICAgICAgIHVpZG5leHQ6ICczODM2MSdcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNvZGU6ICdOT01PRFNFUSdcbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9KSkudG8uZGVlcC5lcXVhbCh7XG4gICAgICBleGlzdHM6IDEyMyxcbiAgICAgIGZsYWdzOiBbJ1xcXFxBbnN3ZXJlZCcsICdcXFxcRmxhZ2dlZCddLFxuICAgICAgcGVybWFuZW50RmxhZ3M6IFsnXFxcXEFuc3dlcmVkJywgJ1xcXFxGbGFnZ2VkJ10sXG4gICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICB1aWROZXh0OiAzODM2MSxcbiAgICAgIHVpZFZhbGlkaXR5OiAyLFxuICAgICAgbm9Nb2RzZXE6IHRydWVcbiAgICB9KVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ3BhcnNlRU5WRUxPUEUnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcGFyc2VkIGVudmVsb3BlIG9iamVjdCcsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VFTlZFTE9QRSh0ZXN0RW52ZWxvcGUuc291cmNlKSkudG8uZGVlcC5lcXVhbCh0ZXN0RW52ZWxvcGUucGFyc2VkKVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ3BhcnNlQk9EWVNUUlVDVFVSRScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBwYXJzZSBib2R5c3RydWN0dXJlIG9iamVjdCcsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VCT0RZU1RSVUNUVVJFKG1pbWVUb3J0dXJlLnNvdXJjZSkpLnRvLmRlZXAuZXF1YWwobWltZVRvcnR1cmUucGFyc2VkKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcGFyc2UgYm9keXN0cnVjdHVyZSB3aXRoIHVuaWNvZGUgZmlsZW5hbWUnLCAoKSA9PiB7XG4gICAgdmFyIGlucHV0ID0gW1xuICAgICAgW1xuICAgICAgICB7IHR5cGU6ICdTVFJJTkcnLCB2YWx1ZTogJ0FQUExJQ0FUSU9OJyB9LFxuICAgICAgICB7IHR5cGU6ICdTVFJJTkcnLCB2YWx1ZTogJ09DVEVULVNUUkVBTScgfSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgeyB0eXBlOiAnU1RSSU5HJywgdmFsdWU6ICdCQVNFNjQnIH0sXG4gICAgICAgIHsgdHlwZTogJ0FUT00nLCB2YWx1ZTogJzQwJyB9LFxuICAgICAgICBudWxsLFxuICAgICAgICBbXG4gICAgICAgICAgeyB0eXBlOiAnU1RSSU5HJywgdmFsdWU6ICdBVFRBQ0hNRU5UJyB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHsgdHlwZTogJ1NUUklORycsIHZhbHVlOiAnRklMRU5BTUUnIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdTVFJJTkcnLCB2YWx1ZTogJz0/SVNPLTg4NTktMT9RP0JCUl9IYW5kZWwsX0dld2VyYmUsX0I9RkNyb2JldHJpZWJlLD89ID0/SVNPLTg4NTktMT9RP19wcml2YXRlX0JpbGR1bmdzZWlucmljaHR1bmdlbi50eHQ/PScgfVxuICAgICAgICAgIF1cbiAgICAgICAgXSxcbiAgICAgICAgbnVsbFxuICAgICAgXSxcbiAgICAgIHsgdHlwZTogJ1NUUklORycsIHZhbHVlOiAnTUlYRUQnIH0sXG4gICAgICBbXG4gICAgICAgIHsgdHlwZTogJ1NUUklORycsIHZhbHVlOiAnQk9VTkRBUlknIH0sXG4gICAgICAgIHsgdHlwZTogJ1NUUklORycsIHZhbHVlOiAnLS0tLXNpbmlrYWVsLT89XzEtMTQxMDUwODUyNjUxMTAuNDk5MDM5MjI0NTgxNzkyOTUnIH1cbiAgICAgIF0sXG4gICAgICBudWxsLFxuICAgICAgbnVsbFxuICAgIF1cblxuICAgIHZhciBleHBlY3RlZCA9IHtcbiAgICAgIGNoaWxkTm9kZXM6IFt7XG4gICAgICAgIHBhcnQ6ICcxJyxcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgIGVuY29kaW5nOiAnYmFzZTY0JyxcbiAgICAgICAgc2l6ZTogNDAsXG4gICAgICAgIGRpc3Bvc2l0aW9uOiAnYXR0YWNobWVudCcsXG4gICAgICAgIGRpc3Bvc2l0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgIGZpbGVuYW1lOiAnQkJSIEhhbmRlbCwgR2V3ZXJiZSwgQsO8cm9iZXRyaWViZSwgcHJpdmF0ZSBCaWxkdW5nc2VpbnJpY2h0dW5nZW4udHh0J1xuICAgICAgICB9XG4gICAgICB9XSxcbiAgICAgIHR5cGU6ICdtdWx0aXBhcnQvbWl4ZWQnLFxuICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICBib3VuZGFyeTogJy0tLS1zaW5pa2FlbC0/PV8xLTE0MTA1MDg1MjY1MTEwLjQ5OTAzOTIyNDU4MTc5Mjk1J1xuICAgICAgfVxuICAgIH1cblxuICAgIGV4cGVjdChwYXJzZUJPRFlTVFJVQ1RVUkUoaW5wdXQpKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkKVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ3BhcnNlRkVUQ0gnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmV0dXJuIHZhbHVlcyBsb3dlcmNhc2Uga2V5cycsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VGRVRDSCh7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIEZFVENIOiBbe1xuICAgICAgICAgIG5yOiAxMjMsXG4gICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ0JPRFknLFxuICAgICAgICAgICAgICBzZWN0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJ0hFQURFUidcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgICB0eXBlOiAnQVRPTScsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICdEQVRFJ1xuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnU1VCSkVDVCdcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgcGFydGlhbDogWzAsIDEyM11cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdHlwZTogJ0FUT00nLFxuICAgICAgICAgICAgICB2YWx1ZTogJ2FiYydcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgXVxuICAgICAgICB9XVxuICAgICAgfVxuICAgIH0pKS50by5kZWVwLmVxdWFsKFt7XG4gICAgICAnIyc6IDEyMyxcbiAgICAgICdib2R5W2hlYWRlciAoZGF0ZSBzdWJqZWN0KV08MC4xMjM+JzogJ2FiYydcbiAgICB9XSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIG1lcmdlIG11bHRpcGxlIHJlc3BvbnNlcyBiYXNlZCBvbiBzZXF1ZW5jZSBudW1iZXInLCAoKSA9PiB7XG4gICAgZXhwZWN0KHBhcnNlRkVUQ0goe1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBGRVRDSDogW3tcbiAgICAgICAgICBucjogMTIzLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdVSUQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6IDc4OVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBucjogMTI0LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdVSUQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6IDc5MFxuICAgICAgICAgICAgfV1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBucjogMTIzLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdNT0RTRVEnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdBVE9NJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICcxMjcnXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIF1cbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9KSkudG8uZGVlcC5lcXVhbChbe1xuICAgICAgJyMnOiAxMjMsXG4gICAgICAndWlkJzogNzg5LFxuICAgICAgJ21vZHNlcSc6ICcxMjcnXG4gICAgfSwge1xuICAgICAgJyMnOiAxMjQsXG4gICAgICAndWlkJzogNzkwXG4gICAgfV0pXG4gIH0pXG59KVxuXG5kZXNjcmliZSgncGFyc2VTRUFSQ0gnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcGFyc2UgU0VBUkNIIHJlc3BvbnNlJywgKCkgPT4ge1xuICAgIGV4cGVjdChwYXJzZVNFQVJDSCh7XG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIFNFQVJDSDogW3tcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbe1xuICAgICAgICAgICAgdmFsdWU6IDVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICB2YWx1ZTogN1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbe1xuICAgICAgICAgICAgdmFsdWU6IDZcbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfVxuICAgIH0pKS50by5kZWVwLmVxdWFsKFs1LCA2LCA3XSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIHBhcnNlIGVtcHR5IFNFQVJDSCByZXNwb25zZScsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VTRUFSQ0goe1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBTRUFSQ0g6IFt7XG4gICAgICAgICAgY29tbWFuZDogJ1NFQVJDSCcsXG4gICAgICAgICAgdGFnOiAnKidcbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9KSkudG8uZGVlcC5lcXVhbChbXSlcbiAgfSlcbn0pXG4iXX0=